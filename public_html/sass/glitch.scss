.glitch {
	position : relative;
}

.glitch > * {
	text-align: inherit;
	line-height: 1;
}

.glitch > *:before,
.glitch > *:after {
	text-align: inherit;
	width: 100%;
}

/*--------------------------------------------------
	グリッチ1
---------------------------------------------------*/
.gl-1 {
  margin: 0;
}

.gl-1 > * {
  margin: auto;
  text-align: center;
  animation: glitch-skew 5s infinite alternate;
  animation-timing-function: step-end;
  
  &::before,
  &::after {
	content: attr(data-text);
	position: absolute;
	width: 100%;
	left: 0;
	top: 0;
	text-align: center;
	filter: drop-shadow(0 0 transparent); 
	background-color : inherit;
  } 
  
  &::before {
  }
  &::after {
  	animation: gl-1_animation 3.1s infinite alternate;
  	animation-timing-function: step-end;
  }
}

@keyframes gl-1_animation {
  0% {
  }
  5% {
	transform: translateX(.005 * 100%);
	clip-path: inset(30% 0 60% 0);
	-webkit-clip-path: inset(30% 0 60% 0);
	text-shadow: -3px 0 .02em lime, 
				-6px 0 .02em #ff00e1;
  }
  10% {
	clip-path: inset(100% 0 100% 0);
	-webkit-clip-path: inset(100% 0 100% 0);
  }
  15% {
	transform: translateX(.005 * 100%);
	clip-path: inset(30% 0 60% 0);
	-webkit-clip-path: inset(30% 0 60% 0);
  }
  18% {
	transform: translateX(.01 * 100%);
	clip-path: inset(30% 0 60% 0);
	-webkit-clip-path: inset(30% 0 60% 0);
  }
  21% {
	transform: translateX(.005 * 100%);
  }
  24% {
	transform: translateX(.04 * 100%);
	clip-path: inset(30% 0 60% 0);
	-webkit-clip-path: inset(30% 0 60% 0);
  }
  27% {
	transform: translateX(.005 * 100%);
  }
  29% {
	clip-path: inset(100% 0 100% 0);
	-webkit-clip-path: inset(100% 0 100% 0);
  }
  40% {
	transform: translateX(.01 * 100%);
	clip-path: inset(60% 0 25% 0);
	-webkit-clip-path: inset(60% 0 25% 0);
	text-shadow: -2px 0 .02em lime, 
				-5px 0 .02em #ff00e1;
  }
  42% {
	clip-path: inset(100% 0 100% 0);
	-webkit-clip-path: inset(100% 0 100% 0);
  }
  50% {
	transform: translateX(.03 * 100%);
	clip-path: inset(25% 0 70% 0);
	-webkit-clip-path: inset(25% 0 70% 0);
  }
  55% {
	clip-path: inset(100% 0 100% 0);
	-webkit-clip-path: inset(100% 0 100% 0);
  }
  80% {
	transform: translateX(.07 * 100%);
	text-shadow: 2px 0 .02em lime, 
				-4px 0 .02em #ff00e1;
	clip-path: inset(60% 0 25% 0);
	-webkit-clip-path: inset(60% 0 25% 0);
  }
  83% {
	clip-path: inset(100% 0 100% 0);
	-webkit-clip-path: inset(100% 0 100% 0);
  }
  100% {
	clip-path: inset(100% 0 0 0);
	-webkit-clip-path: inset(100% 0 0 0);
  }
}

/*--------------------------------------------------
	グリッチ2
---------------------------------------------------*/
.gl-2 > *:before,
.gl-2 > *:after {
	content: attr(data-text);
	opacity: 0.8;
	position: absolute;
	top:0;
	left:0;
}

.gl-2 > *:before {
	color: #ff00e1;
	z-index: -1;
	animation: gl-2_animation .5s cubic-bezier(.25, .46, .45, .94) both infinite;
}

.gl-2 > *:after {
	color: lime;
	z-index: -2;
	animation: gl-2_animation .3s cubic-bezier(.25, .46, .45, .94) reverse both infinite;
}

@keyframes gl-2_animation {
	0% {
		-webkit-transform: translate(0);
		transform: translate(0)
	}
	20% {
		-webkit-transform: translate(-3px, 0px);
		transform: translate(-3px, 0px);
		transform: skewX(10deg);
	}
	40% {
		-webkit-transform: translate(-3px, -0px);
		transform: translate(-3px, -0px);
	}
	60% {
		-webkit-transform: translate(3px, 0px);
		transform: translate(3px, 0px)
	}
	80% {
		-webkit-transform: translate(3px, -0px);
		transform: translate(3px, -0px)
	}
	to {
		-webkit-transform: translate(0);
		transform: translate(0)
	}
}

/*--------------------------------------------------
	グリッチ3
---------------------------------------------------*/
.gl-3 {

	> * {
		animation: glitch-anim2 1s infinite alternate;
		}

	> *:before,
	> *:after {
		content: attr(data-text);
		opacity: 1;
		height: 100%;
		position: absolute;
		top:0;
		left:0;
	}

	> *:before {
		left : -2px;
		overflow: hidden;
		animation: gl-3_animation 5s infinite alternate;
		z-index: -1;
		-webkit-clip-path: inset(0 0 60% 0);
		clip-path: inset(0 0 60% 0);
	}

	> *:after {
		left : 2px;
		overflow: hidden;
		animation: gl-3_animation2 5s infinite alternate;
		z-index: -2;
		-webkit-clip-path: inset(40% 0 0 0);
		clip-path: inset(40% 0 0 0);
	}

}

@keyframes gl-3_animation {
	0% {
		-webkit-clip-path: inset(0 0 90% 0);
		clip-path: inset(0 0 90% 0);
	}
	29% {
		-webkit-clip-path: inset(0 0 90% 0);
		clip-path: inset(0 0 90% 0);
	}
	30% {
		-webkit-clip-path: inset(0 0 70% 0);
		clip-path: inset(0 0 70% 0);
	}
	60% {
		-webkit-clip-path: inset(0 0 40% 0);
		clip-path: inset(0 0 40% 0);
	}
	80% {
		-webkit-clip-path: inset(0 0 45% 0);
		clip-path: inset(0 0 45% 0);
	}
	to {
		-webkit-clip-path: inset(0 0 15% 0);
		clip-path: inset(0 0 15% 0);
	}
}

@keyframes gl-3_animation2 {
	0% {
		-webkit-clip-path: inset(10% 0 0 0);
		clip-path: inset(10% 0 0 0);
	}
	29% {
		-webkit-clip-path: inset(10% 0 0 0);
		clip-path: inset(10% 0 0 0);
	}
	30% {
		-webkit-clip-path: inset(30% 0 0 0);
		clip-path: inset(30% 0 0 0);
	}
	60% {
		-webkit-clip-path: inset(60% 0 0 0);
		clip-path: inset(60% 0 0 0);
	}
	80% {
		-webkit-clip-path: inset(55% 0 0 0);
		clip-path: inset(55% 0 0 0);
	}
	to {
		-webkit-clip-path: inset(85% 0 0 0);
		clip-path: inset(85% 0 0 0);
	}
}

/*--------------------------------------------------
	グリッチ4
---------------------------------------------------*/
.gl-4 {

	> * {
		animation: glitch-skew_subtle .3s infinite alternate;
		}

	> *:before,
	> *:after {
		content: attr(data-text);
		opacity: 1;
		height: 100%;
		position: absolute;
		top:0;
		left:0;
	}

	> *:before {
		left : -2px;
		overflow: hidden;
		animation: gl-4_animation 2s infinite alternate;
		z-index: -1;
		transform: scaleX(1.2);
		animation-timing-function: step-end;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
	}

	> *:after {
		left : 2px;
		animation: gl-4_animation2 7s infinite;
		z-index: -2;
		opacity: 1;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
		transform : scaleX(1.5);
		-webkit-clip-path: inset(20% 0 78% 0);
		clip-path: inset(20% 0 78% 0);
	}

}

@keyframes gl-4_animation {
	3%,33%,36%,63%,81%,84% {
		-webkit-clip-path: inset(100% 0 0 0);
		clip-path: inset(100% 0 0 0);
	}
	0% {
		-webkit-clip-path: inset(10% 0 80% 0);
		clip-path: inset(10% 0 80% 0);
		transform: scaleX(1.1);
	}
	30% {
		-webkit-clip-path: inset(30% 0 60% 0);
		clip-path: inset(30% 0 60% 0);
		transform: scaleX(0.5);
	}
	35% {
		-webkit-clip-path: inset(30% 0 60% 0);
		clip-path: inset(30% 0 60% 0);
		transform: scaleX(0.5);
	}
	60% {
		-webkit-clip-path: inset(60% 0 30% 0);
		clip-path: inset(60% 0 30% 0);
		transform: scaleX(1.5);
	}
	80% {
		-webkit-clip-path: inset(55% 0 30% 0);
		clip-path: inset(55% 0 30% 0);
	}
	83% {
		-webkit-clip-path: inset(55% 0 10% 0);
		clip-path: inset(55% 0 10% 0);
		transform: scaleY(1.1);
	}
	to {
		-webkit-clip-path: inset(85% 0 0 0);
		clip-path: inset(85% 0 0 0);
	}
}

@keyframes gl-4_animation2 {
	0% {
		-webkit-clip-path: inset(20% 0 82% 0);
		clip-path: inset(20% 0 82% 0);
	}
	39% {
		-webkit-clip-path: inset(20% 0 82% 0);
		clip-path: inset(20% 0 82% 0);
	}
	40% {
		-webkit-clip-path: inset(20% 0 78% 0);
		clip-path: inset(20% 0 78% 0);
	}
	to {
		-webkit-clip-path: inset(96% 0 2% 0);
		clip-path: inset(96% 0 2% 0);
	}
}

/*--------------------------------------------------
	グリッチ5
---------------------------------------------------*/
.gl-5 {

	> * {
		//animation: glitch-skew_subtle 3s infinite alternate;
		}

	> *:before,
	> *:after {
		content: attr(data-text);
		opacity: 1;
		height: 100%;
		position: absolute;
		top:0;
		left:0;
	}

	> *:before {
		left : -4px;
		overflow: hidden;
		animation: gl-4_animation 2s infinite alternate-reverse;
		z-index: -1;
		transform: scaleX(1.2);
		animation-timing-function: step-end;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
	}

	> *:after {
		left : 5px;
		//animation: gl-2_animation .7s infinite;
		z-index: -2;
		opacity: 1;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
		transform : scaleX(1.5);
	}

}

/*--------------------------------------------------
	グリッチ6
---------------------------------------------------*/
.gl-6 {

	> * {
		animation: glitch-skew_subtle .3s infinite alternate;
		}

	> *:before,
	> *:after {
		content: attr(data-text);
		opacity: 1;
		height: 100%;
		position: absolute;
		top:0;
		left:0;
	}

	> *:before {
		left : -2px;
		overflow: hidden;
		animation: gl-4_animation 1s infinite alternate;
		z-index: -1;
		//transform: scaleX(1.2);
		animation-timing-function: step-end;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
	}

	> *:after {
		left : 2px;
		animation: glitch-anim2 7s infinite;
		z-index: -2;
		opacity: 1;
		text-shadow: -4px 0 .02em lime, 
				-8px 0 .02em #ff00e1;
		//transform : scaleX(1.5);
		-webkit-clip-path: inset(20% 0 78% 0);
		clip-path: inset(20% 0 78% 0);
	}

}


@keyframes glitch-anim2 {
  $steps: 20;
  @for $i from 0 through $steps {
    #{percentage($i*(1/$steps))} {
      clip: rect(random(100)+px, 9999px, random(100)+px, 0);
			transform: skew((random(100) / 100) + deg);
    }
  }
}

@keyframes glitch-skew {
  $steps: 10;
  @for $i from 0 through $steps {
    #{percentage($i*(1/$steps))} {
      transform: skew((random(10) - 5) + deg);
    }
  }
}

@keyframes glitch-skew_subtle {
  $steps: 10;
  @for $i from 0 through $steps {
    #{percentage($i*(1/$steps))} {
      transform: skew((random(5) - 5) + deg);
    }
  }
}

@media all and (-ms-high-contrast: none) {
	.glitch > *:before,
	.glitch > *:after {
		display: none;
	}
}